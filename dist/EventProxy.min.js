"use strict";!function(e,n){"undefined"!=typeof module?module.exports=n(e):"function"==typeof define&&define.amd?define([],n):e.EventProxy=n(e)}("undefined"!=typeof global?global:"undefined"!=typeof window?window:void 0,function(e){var u,f=function(e){if("default"==e)throw new Error('The 1st argument must be a string except "default"')},a=function(e){return"function"==typeof e},l=Array.prototype.slice,i={default:{type:"default",queue:[]}},n=function(){};return n.prototype.$eventLibary=i,n.prototype.on=function(e,n){if(f(e),!a(n))throw new Error("The handler of the event of "+e+" is not a function");var t,r=this.$eventLibary,o=r[e];if(o)return o.queue.push(n);r[e]=(t=r.default,JSON.parse(JSON.stringify(t))),r[e].type=e,r[e].queue.push(n)},n.prototype.once=function(n,t){var r=this;this.on(n,function e(){r.off(n,e),t.apply(null,arguments)})},n.prototype.off=function(e,n){if(e){var t=this.$eventLibary[e];if(t)if(n){for(var r=t.queue,o=r.length;o--;)if(r[o]===n){r.splice(o,1);break}}else t.queue=[]}else this.$eventLibary=i},n.prototype.emit=function(){var e=u=arguments[0];f(e);var n=l.call(arguments,1),t=this.$eventLibary[e];if(t&&Array.isArray(t.queue))for(var r,o=t.queue,i=0;r=o[i++];)try{r.apply(null,n)}catch(e){console.warn('This "'+t.type+'" event handler goes wrong, occured in :\n\n'+r.toString()+"\n\nThe error info as follow: \n"+e.stack)}},n.prototype.all=function(t,r){if(Array.isArray(t)&&a(r)){var o=t.length,i=[],e=function(){var e=function(e,n){for(var t=0;t<e.length;t++)if(e[t]==n)return t;return!1}(t,u);if(!1!==e){var n=l.call(arguments);i[e]=n}--o||r.call(null,function e(n){for(var t=[],r=n.length,o=!1,i=0;i<r;i++){var f=n[i];Array.isArray(f)?(t=t.concat(f),o=!0):t.push(f)}return o?e(t):t}(i))};if(o)for(var n,f=0;n=t[f++];)this.once(n,e)}},n});
//# sourceMappingURL=EventProxy.min.js.map
